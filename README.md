# DID Credential Manager
**Texas A&M University**\
**Computer Science**\
**Senior Capstone Project - Fall 2025**

**Developed by**: Owen Brown, Joshua Lass, Micah Mei, Jone Zhu\
**In Collaboration with**: [Kyndryl](https://www.kyndryl.com/)

---

## Overview

A decentralized identity (DID) credential management system demonstrating issuance, holding, and verification of verifiable credentials using DID:peer and DIDComm v2.

## Quick Start

The **recommended way** to run everything is using Docker, which runs all services (backends + web apps):

```bash
# IMPORTANT: Run this from the PROJECT ROOT directory
cd /path/to/did-credential-manager

# Start all services (backends + web interfaces)
npm run docker
# or
docker-compose up --build
```

### All Services Running with Docker:

**Backend APIs:**
- **Issuer**: http://localhost:5001
- **Verifier**: http://localhost:5002  
- **Holder**: http://localhost:5003

**Web Interfaces:**
- **Issuer Web**: http://localhost:5171
- **Verifier Web**: http://localhost:5172
- **Holder Wallet**: http://localhost:5173

**Docker Commands** (run from project root):
```bash
npm run docker:up      # Start services in background
npm run docker:logs    # View logs
npm run docker:down    # Stop services
npm run docker:ps      # Check status
npm run test:docker    # Run automated tests
```

## Run the Web Apps (Issuer / Holder / Verifier)

The repository includes three separate Vite + React web apps for each role under `demo/`:

- Issuer: `demo/issuer-web` (default http://localhost:5171/)
- Holder: `demo/holder-wallet` (default http://localhost:5173/)
- Verifier: `demo/verifier-web` (default http://localhost:5172/)

**Note**: When running with Docker (`npm run docker`), all web apps are automatically available. The instructions below are for local development without Docker.

Prerequisites:
- Node.js >= 18 and npm >= 9
- **Start backend services from project root**: 
  ```bash
  cd /path/to/did-credential-manager  # Go to PROJECT ROOT
  npm run docker:up                    # Start backends in Docker
  ```

### Issuer (recommended to start here)

```bash
cd demo/issuer-web
cp -n .env.local.example .env.local 2>/dev/null || true
npm install
npm run dev -- --host
```

Open: http://localhost:5171/

Notes:
- Page title is “DMV Issuer”. DID appears below the title.
- Fill in the DMV-like application form and choose:
	- Submit Application VC → creates a Verifiable Credential of type `DriversLicenseApplication` via POST /credentials/issue on the Issuer service (http://localhost:5001)
	- Create OOB Application Invite → generates a DIDComm OOB invitation URL + QR for the Holder to accept
- OOB Invitation URL is intended for the Holder app (not for clicking directly). A “Browser Preview (test only)” link is provided for convenience.

### Holder

```bash
cd demo/holder-wallet
cp -n .env.local.example .env.local 2>/dev/null || true
npm install
npm run dev -- --host
```

Open: http://localhost:5173/

Notes:
- Use “Accept Invitation” to paste the invitation URL generated by the Issuer.
- Stored credentials are listed with basic management actions.
- You can create/send a presentation (VP) to a verifier DID (when applicable in your flow).

### Verifier

```bash
cd demo/verifier-web
cp -n .env.local.example .env.local 2>/dev/null || true
npm install
npm run dev -- --host
```

Open: http://localhost:5172/

Notes:
- Verify a credential by pasting JSON.
- Create an OOB presentation request for the Holder to respond.
- Verify presentations with optional challenge checking.

### Troubleshooting

- **Wrong directory**: Make sure you're in the correct directory:
  - Docker commands: Run from **PROJECT ROOT** (`/path/to/did-credential-manager`)
  - Web app commands: Run from inside the app directory (`demo/issuer-web`, etc.)
- Ports already in use: Vite will prompt a new port; use the "Local" URL shown in the terminal.
- Backend not reachable: Ensure services are up from **project root**: `npm run docker:up`, and health endpoints respond:
	- Issuer: http://localhost:5001/health
	- Verifier: http://localhost:5002/health
	- Holder: http://localhost:5003/health
- OOB Invitation 404 when clicked: It's a DIDComm URL for the Holder app. Copy/paste into Holder → "Accept Invitation".
